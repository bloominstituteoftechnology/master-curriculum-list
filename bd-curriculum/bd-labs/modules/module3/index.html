<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 3: Build Sprint 2 - Backend Labs</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">BD Labs</div>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li class="dropdown">
                    <a href="#">Modules</a>
                    <div class="dropdown-content">
                        <a href="../module1/index.html">Module 1: Onboarding & Planning</a>
                        <a href="../module2/index.html">Module 2: Build Sprint 1</a>
                        <a href="../module3/index.html" class="active">Module 3: Build Sprint 2</a>
                        <a href="../module4/index.html">Module 4: Build Sprint 3</a>
                        <a href="../module5/index.html">Module 5: Career Readiness</a>
                    </div>
                </li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <section class="welcome">
            <h1>Module 3: Build Sprint 2</h1>
            
            <div class="content-box">
                <h2>Understanding Your Second Ticket</h2>

                <p>This is the second Build Sprint of Labs. Now that you have completed the first ticket, it's time to start work on your second ticket.</p>

                <p><strong><i>Note: Each ticket builds on the previous one.</i></strong></p>

                <div class="note-box">
                    <h4>Second Ticket Details</h4>
                    <p>View your second ticket details and requirements on GitHub:</p>
                    <a href="https://github.com/BloomTech-Labs/BloomCodeCamp-be-a-starter/blob/main/tickets/secondTicket.md" target="_blank" rel="noopener noreferrer">Second Ticket Documentation</a>
                </div>

                <div class="note-box">
                    <h3>Step-by-Step Workflow</h3>
                    <ol>
                        <li>
                            <h4>Familiarize Yourself with the Repository</h4>
                            <ol type="a">
                                <li>Read the documentation thoroughly to understand the repository. This may include API contracts, READMEs, or docs on Google/Notion.</li>
                                <li>Check the README of the ticket you have been assigned to know what is expected of you.</li>
                            </ol>
                        </li>
                        <li>
                            <h4>Understanding the Deliverable</h4>
                            <ol type="a">
                                <li>Check the deployed version of the product to see the expected output and match it with what you have to build.</li>
                                <li>Read the example of the expected output provided in the README.</li>
                            </ol>
                        </li>
                        <li>
                            <h4>Code Unit Test (if applicable)</h4>
                            <ol type="a">
                                <li>If a relevant test exists, follow the test-driven development approach to guide your development.</li>
                                <li>Validate your code using the unit test to ensure you've produced the expected outcome.</li>
                            </ol>
                        </li>
                        <li>
                            <h4>Code the Component/Feature</h4>
                            <ol type="a">
                                <li>Code your deliverable, the feature described in the ticket.</li>
                            </ol>
                        </li>
                        <li>
                            <h4>Record a Loom Video</h4>
                            <ol type="a">
                                <li>Demonstrate the feature in the video.</li>
                                <li>Provide a detailed explanation of your thought process while coding.</li>
                            </ol>
                        </li>
                    </ol>
                </div>
            </div>
            
            <div class="content-box">
                <h2>Submit your Sprint 2 Deliverables: Loom and Code</h2>

                <h3>Technical Interview Simulation</h3>

                <p>You're in the middle of your first technical interview. The interviewer is going through your resume and stops at the section describing your Labs project. They turn to you and ask:</p>

                <p>"How would you describe the project you built in BloomTech Labs and the contributions you had on it?"</p>

                <p>Using Loom, record a video articulating to a hiring manager the product you'll be working on in Labs. Feel free to reference your code and ticket.</p>

                <p>You should concisely answer the following questions:</p>

                <ul>
                    <li>What were the deliverables for your ticket?</li>
                    <li>What requirements did you have to keep in mind? Think tech stack, constraints, etc.</li>
                    <li>How did you go about shipping your ticket?</li>
                    <li>Why did you take the approach you took?</li>
                </ul>

                <p>The video should be no longer than 5 minutes, and you must demo the project in the video.</p>

                <h3>Submission Details</h3>

                <p>Submit the links to your Loom video and code on GitHub using the form below.</p>

                <a href="https://portal.bloomtech.com/instruction/sprint-challenges" target="_blank" rel="noopener noreferrer">You can access the submission form here.</a>

                <p>Note: If any one link is missing, the assignment will not be graded and you will have to resubmit.</p>

                <h4>Your code should:</h4>
                <ul>
                    <li>be on a forked version of the project repo.</li>
                    <li>meet all the requirements listed on the ticket in the README file for this build sprint.</li>
                </ul>

                <h4>In your Loom video, you must:</h4>
                <ul>
                    <li>demo the code you created for this ticket.</li>
                    <li>articulate how you coded this ticket and why you took that approach.</li>
                    <li>showcase your workflow and what steps you took to code this ticket.</li>
                </ul>

                <p>All submissions will be graded based on criteria set forth in the rubric below.</p>

                <h3>Never used Loom before?</h3>

                <p><a href="https://youtu.be/eSMiGNzJwtg" target="_blank" rel="noopener noreferrer">How to get started with Loom</a></p>

                <p><a href="https://youtu.be/tR_t9owJpRA" target="_blank" rel="noopener noreferrer">How to use the Loom Chrome Extension</a></p>

                <div class="note-box">
                    <h3>Build Sprint Grading Criteria</h3>
                    <table>
                        <tr>
                            <th>Criteria</th>
                            <th>Ratings</th>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomePresenting Their Work<br>The student clearly and accurately explains all aspects of their work, including their approach, design decisions, and results.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeOrganization<br>The video is well-organized, easy to follow, and presents information in a logical and coherent manner.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeTechnical Knowledge<br>The student demonstrates a solid understanding of the technical concepts and tools used in their work. They are able to answer technical questions.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeCode Quality<br>The code is well-organized and readable, follows the best practices that they learned, and the code is readable</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeFunctionality<br>The code runs without errors and produces the expected results. The code is complete and meets the requirements of the assignment.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeCommenting<br>Comments are clear and provide enough information to understand the purpose and function of the code.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeCorrectness<br>The code is implemented in a correct, efficient and optimal way.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeTest Execution<br>The student is able to execute tests and document issues or bugs found. They are able to explain how the tests are verifying the functionality of the system.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeCommunication & Delivery<br>The student communicates effectively and professionally, speaking clearly, using appropriate nonverbal communication, and expressing themselves in a confident and engaging manner. They show active listening skills and can build rapport.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomePreparation & Self-Presentation<br>The student presents themselves in a professional and polished manner and is well-prepared. They project confidence and enthusiasm.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                        <tr>
                            <td>This criterion is linked to a Learning OutcomeAdaptability<br>The student demonstrates an ability to adapt to new information and respond appropriately to unexpected questions or changes in the interview. They display flexibility and some initiative.</td>
                            <td>Meets Expectations</td>
                            <td>Needs Improvement</td>
                        </tr>
                    </table>
                </div>
            </div>
            
            <div class="content-box">
                <h2>Approaching Your Second Feature</h2>
                <p>Learn how to implement JWT authentication and RESTful endpoints for the Bloom Coder Assignment App.</p>
                
                <div class="note-box">
                    <h3>Implementation Checklist</h3>
                    <ul>
                        <li>Add JWT dependency and implement JWT utilities</li>
                        <li>Create JWT filter for request authentication</li>
                        <li>Update Security Configuration for JWT</li>
                        <li>Implement User Repository</li>
                        <li>Update UserDetailsService implementation</li>
                        <li>Configure application properties</li>
                        <li>Implement RESTful endpoints</li>
                    </ul>
                </div>

                <div class="note-box">
                    <h3>JWT Implementation Concepts</h3>
<pre>// Example of JWT token structure and claims
@Component
public class JwtUtil {
    // Token expiration time in seconds
    private static final long EXPIRATION_TIME = 86400000; // 24 hours
    
    // Secret key for signing tokens
    @Value("${jwt.secret}")
    private String secret;

    // Example of how to structure token claims
    public String generateToken(UserDetails userDetails) {
        // Claims are key-value pairs stored in the token
        Map<String, Object> claims = new HashMap<>();
        
        // Example of adding user roles to claims
        claims.put("roles", userDetails.getAuthorities()
                .stream()
                .map(auth -> auth.getAuthority())
                .collect(Collectors.toList()));

        // Token generation with claims
        return Jwts.builder()
                .setClaims(claims)
                .setSubject(userDetails.getUsername())
                .setIssuedAt(new Date())
                .setExpiration(new Date(System.currentTimeMillis() + EXPIRATION_TIME))
                .signWith(SignatureAlgorithm.HS256, secret)
                .compact();
    }
}</pre>
                </div>

                <div class="note-box">
                    <h3>Security Configuration Concepts</h3>
<pre>// Example of configuring security for JWT authentication
@EnableWebSecurity
public class SecurityConfig extends WebSecurityConfigurerAdapter {
    
    @Autowired
    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;
    
    @Autowired
    private UserDetailsService jwtUserDetailsService;
    
    @Autowired
    private JwtRequestFilter jwtRequestFilter;
    
    @Override
    protected void configure(HttpSecurity httpSecurity) throws Exception {
        httpSecurity
            // Disable CSRF for API endpoints
            .csrf().disable()
            // Allow specific endpoints without authentication
            .authorizeRequests()
                .antMatchers("/api/auth/**").permitAll()
                .anyRequest().authenticated()
            .and()
            // Add exception handling
            .exceptionHandling()
                .authenticationEntryPoint(jwtAuthenticationEntryPoint)
            .and()
            // Set session management to stateless
            .sessionManagement()
                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);
        
        // Add JWT filter
        httpSecurity.addFilterBefore(
            jwtRequestFilter, 
            UsernamePasswordAuthenticationFilter.class
        );
    }
}</pre>
                </div>
            </div>
            
            <div class="content-box">
                <h2>RESTful API Best Practices</h2>
                <p>Learn about RESTful API design principles and best practices for your Spring Boot application.</p>
                
                <div class="note-box">
                    <h3>API Design Principles</h3>
                    <ul>
                        <li><strong>Resource-based URLs</strong> - Organize around resources, not actions</li>
                        <li><strong>HTTP Methods</strong> - Use proper HTTP methods (GET, POST, PUT, DELETE)</li>
                        <li><strong>Status Codes</strong> - Return appropriate HTTP status codes</li>
                        <li><strong>Versioning</strong> - Consider API versioning strategy</li>
                        <li><strong>Error Handling</strong> - Provide clear error messages and codes</li>
                        <li><strong>Documentation</strong> - Document your API with Swagger or similar tools</li>
                    </ul>
                </div>
                
                <div class="note-box">
                    <h3>Example REST Controller</h3>
<pre>@RestController
@RequestMapping("/api/assignments")
public class AssignmentController {
    
    @Autowired
    private AssignmentService assignmentService;
    
    @GetMapping
    public ResponseEntity<List<AssignmentDTO>> getAllAssignments() {
        List<AssignmentDTO> assignments = assignmentService.findAll();
        return ResponseEntity.ok(assignments);
    }
    
    @GetMapping("/{id}")
    public ResponseEntity<AssignmentDTO> getAssignmentById(@PathVariable Long id) {
        try {
            AssignmentDTO assignment = assignmentService.findById(id);
            return ResponseEntity.ok(assignment);
        } catch (ResourceNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }
    
    @PostMapping
    public ResponseEntity<AssignmentDTO> createAssignment(
            @Valid @RequestBody AssignmentDTO assignmentDTO) {
        AssignmentDTO created = assignmentService.create(assignmentDTO);
        URI location = ServletUriComponentsBuilder
                .fromCurrentRequest()
                .path("/{id}")
                .buildAndExpand(created.getId())
                .toUri();
        return ResponseEntity.created(location).body(created);
    }
    
    @PutMapping("/{id}")
    public ResponseEntity<AssignmentDTO> updateAssignment(
            @PathVariable Long id,
            @Valid @RequestBody AssignmentDTO assignmentDTO) {
        try {
            AssignmentDTO updated = assignmentService.update(id, assignmentDTO);
            return ResponseEntity.ok(updated);
        } catch (ResourceNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }
    
    @DeleteMapping("/{id}")
    public ResponseEntity<Void> deleteAssignment(@PathVariable Long id) {
        try {
            assignmentService.delete(id);
            return ResponseEntity.noContent().build();
        } catch (ResourceNotFoundException e) {
            return ResponseEntity.notFound().build();
        }
    }
}</pre>
                </div>
                
                <div class="note-box">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-controller" target="_blank" rel="noopener noreferrer">Spring MVC Controllers</a></li>
                        <li><a href="https://www.baeldung.com/rest-with-spring-series" target="_blank" rel="noopener noreferrer">REST with Spring Series</a></li>
                        <li><a href="https://restfulapi.net/" target="_blank" rel="noopener noreferrer">RESTful API Design Guidelines</a></li>
                        <li><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-developing-web-applications" target="_blank" rel="noopener noreferrer">Spring Boot Web Features</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="content-box">
                <h2>Error Handling in Spring Boot</h2>
                <p>Learn about implementing global exception handling and error responses in your Spring Boot application.</p>
                
                <div class="note-box">
                    <h3>Exception Handling Best Practices</h3>
                    <ul>
                        <li><strong>Global Exception Handler</strong> - Use @ControllerAdvice for centralized exception handling</li>
                        <li><strong>Custom Exceptions</strong> - Define domain-specific exceptions</li>
                        <li><strong>Error Response Structure</strong> - Return consistent error response format</li>
                        <li><strong>Logging</strong> - Log exceptions for debugging and monitoring</li>
                        <li><strong>Validation Errors</strong> - Handle validation errors consistently</li>
                    </ul>
                </div>
                
                <div class="note-box">
                    <h3>Example Global Exception Handler</h3>
<pre>@ControllerAdvice
public class GlobalExceptionHandler {
    
    private static final Logger logger = LoggerFactory.getLogger(GlobalExceptionHandler.class);
    
    @ExceptionHandler(ResourceNotFoundException.class)
    public ResponseEntity<ErrorResponse> handleResourceNotFoundException(
            ResourceNotFoundException ex, WebRequest request) {
        
        ErrorResponse errorResponse = new ErrorResponse(
                HttpStatus.NOT_FOUND.value(),
                ex.getMessage(),
                request.getDescription(false),
                new Date()
        );
        
        return new ResponseEntity<>(errorResponse, HttpStatus.NOT_FOUND);
    }
    
    @ExceptionHandler(MethodArgumentNotValidException.class)
    public ResponseEntity<ErrorResponse> handleValidationExceptions(
            MethodArgumentNotValidException ex, WebRequest request) {
        
        Map<String, String> errors = new HashMap<>();
        ex.getBindingResult().getAllErrors().forEach((error) -> {
            String fieldName = ((FieldError) error).getField();
            String errorMessage = error.getDefaultMessage();
            errors.put(fieldName, errorMessage);
        });
        
        ErrorResponse errorResponse = new ErrorResponse(
                HttpStatus.BAD_REQUEST.value(),
                "Validation Error",
                errors.toString(),
                new Date()
        );
        
        return new ResponseEntity<>(errorResponse, HttpStatus.BAD_REQUEST);
    }
    
    @ExceptionHandler(Exception.class)
    public ResponseEntity<ErrorResponse> handleGlobalException(
            Exception ex, WebRequest request) {
        
        logger.error("Unhandled exception", ex);
        
        ErrorResponse errorResponse = new ErrorResponse(
                HttpStatus.INTERNAL_SERVER_ERROR.value(),
                "An unexpected error occurred",
                request.getDescription(false),
                new Date()
        );
        
        return new ResponseEntity<>(errorResponse, HttpStatus.INTERNAL_SERVER_ERROR);
    }
}</pre>
                </div>
                
                <div class="note-box">
                    <h3>Resources</h3>
                    <ul>
                        <li><a href="https://www.baeldung.com/exception-handling-for-rest-with-spring" target="_blank" rel="noopener noreferrer">Exception Handling for REST with Spring</a></li>
                        <li><a href="https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc" target="_blank" rel="noopener noreferrer">Exception Handling in Spring MVC</a></li>
                        <li><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-exceptionhandler" target="_blank" rel="noopener noreferrer">Spring @ExceptionHandler Documentation</a></li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Load Wistia script to enable async videos
        window._wq = window._wq || [];
        (function() {
            var wistiaScript = document.createElement('script');
            wistiaScript.src = "https://fast.wistia.com/assets/external/E-v1.js";
            wistiaScript.async = true;
            document.body.appendChild(wistiaScript);
        })();
    </script>
</body>
</html> 