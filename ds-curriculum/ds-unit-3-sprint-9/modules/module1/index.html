<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1: Python Modules, Packages, and Environments</title>
    <link rel="stylesheet" href="../../../css/style.css">
</head>

<body>
    <header>
        <nav>
            <div class="logo">Data Science Unit 3</div>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li class="dropdown">
                    <a href="#" class="active">Modules</a>
                    <div class="dropdown-content">
                        <a href="../module1/index.html" class="active">Module 1: Python Modules Packages
                            Environments</a>
                        <a href="../module2/index.html">Module 2: OOP-Code-Style-Reviews</a>
                        <a href="../module3/index.html">Module 3: Containers and Reproducible Builds</a>
                        <a href="../module4/index.html">Module 4: Software Testing Documentation Licensing</a>
                    </div>
                </li>
                <li><a href="../../code-alongs/index.html">Code-Alongs</a></li>
                <li><a href="../../sprint-challenge/index.html">Sprint Challenge</a></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <h1>Module 1: Python Modules, Packages, and Environments</h1>

        <section class="content-box">
            <h2>Module Overview</h2>
            <p>Python Notebooks are a glorified REPL - read-eval-print loop. What if you want code that should live on
                and be reused in various circumstances? Enter modules, packages, and environments!</p>
            <p>In this module, you'll learn how to create reusable Python code through modules and packages, and how to
                manage dependencies with virtual environments.</p>
        </section>

        <section class="content-box">
            <h2>Learning Objectives</h2>
            <ul>
                <li>Differentiate between Python Scripts, Modules, Packages, and Libraries</li>
                <li>Create a Python package and install dependencies in a dedicated environment</li>
            </ul>
        </section>

        <section class="content-box">
            <h2>Objective 01 - Understand and follow Python namespaces and imports</h2>

            <h3>Overview</h3>

            <p>What happens when you <code>from bar import foo</code>? And what is run when you type
                <code>my_function()</code> in your repl? More
                than you may think!
            </p>
            <p>
                A core part of Python philosophy is the principle of least astonishment - that the behavior of the code
                should be what the programmer expects. The motivation is to free the programmer from low-level details,
                and allow them to focus on the larger flow and design.
            </p>
            <p>
                You've already been doing this! Your Python notebooks may have relatively short high-level pieces of
                code, but under the hood they're doing all sorts of cool crazy things. And, hopefully, most of the time
                the things they do are the things you want.
            </p>
            <p>
                But, they aren't always - and what's more, if you're always working at the top of the stack, you're
                limited to the cases considered by the people who wrote the tools you depend on. If you want to have
                more freedom and power, you must go deeper.
            </p>
            <h3>Follow Along</h3>
            <p>In a text editor, make a file named <code>fibo.py</code>, and enter the following code:</p>

            <pre><code>Fibonacci numbers module
def fib(n):    # write Fibonacci series up to n
    a, b = 0, 1
    while a &lt; n:
        print(a, end=' ')
        a, b = b, a+b
    print()

def fib2(n):   # return Fibonacci series up to n
    result = []
    a, b = 0, 1
    while a &lt; n:
        result.append(a)
        a, b = b, a+b
    return result</code></pre>

            <p>
                Save this file to a directory, and navigate to that directory with a command line terminal. Then run
                python, and execute the following:
            </p>
            <pre><code>&gt;&gt;&gt; dir()
['__annotations__', '__builtins__', '__doc__', '__loader__', '__name__', '__package__', '__spec__']</code></pre>

            <p>
                This shows you what is in scope in a basic empty Python session. You shouldn't see much - only things
                with double underscores, like <code>__annotations__</code> and <code>__builtins__</code>.
            </p>
            <p>
                Double underscores are a Python convention indicating that, while you can poke at these things, they are
                core to Python functionality and you may break things in strange ways if you change them. See also <a
                    href="https://en.wikipedia.org/wiki/Monkey_patch" target="_blank" rel="noopener noreferrer">monkey
                    patch</a>.
            </p>
            <p>Next, run the following:</p>

            <pre><code>&gt;&gt;&gt; from os import getcwd
&gt;&gt;&gt; getcwd()
'/Users/you/some/project/directory'</code></pre>

            <p>
                This should show you the directory where you started Python, referred to as the current working
                directory. This is important because it is the first place import looks for things.
            </p>
            <p>Now run:</p>

            <pre><code>&gt;&gt;&gt; import fibo

&gt;&gt;&gt; fibo.fib(1000)
0 1 1 2 3 5 8 13 21 34 55 89 144 233 377 610 987
&gt;&gt;&gt; fibo.fib2(100)
[0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]
&gt;&gt;&gt; fibo.__name__
'fibo'</code></pre>

            <p>
                If you see output as above then you set things up correctly, and now have reusable functions for
                calculating Fibonacci numbers in a module that you can access wherever you can put <code>fibo.py</code>!
            </p>
            <h3>Challenge</h3>
            <p>
                Make your own module with functions you think may be useful to have in a reusable context. Use your
                imagination! Later, you can add them to the <code>bloomdata</code> package.
            </p>
            <p>
                Make a directory in your Google Drive and upload <code>fibo.py</code> and/or the module you made in part
                1. Attach your Google Drive to a Colab notebook, and import your modules and use your functions.
                Reusable code, in the cloud!
            </p>
            <p>
                Experiment more with the built-in <code>dir()</code> function to inspect objects and check out where
                things “live” in Python.
            </p>
        </section>

        <section class="content-box">
            <h2>Objective 02 - Create a Python package and install dependencies in a dedicated environment</h2>
            <h3>Overview</h3>
            <p>
                Modules are great, but if you need more code, you need something bigger - a package!
            </p>
            <p>
                Packages usually benefit from other packages, so to specify those dependencies in a reproducible and
                portable fashion, we'll also learn about virtual environments.
            </p>
            <p>
                You're already a consumer of Python packages and dependencies, and you actually already use containers -
                they're what makes cloud hosted notebooks such as Google Colab work. Now it's time to learn a bit about
                how these really work, so you can customize them and make your own.
            </p>
            <p>
                As a Data Scientist, you may or may not specialize in this sort of development work. But even if you are
                more of a “type A analysis” person, <i>knowing</i> how these things work at a high level can make you a
                much more informed consumer and debugger.
            </p>
            <h3>Follow Along</h3>
            <p>
                In the Guided Project, we start working on our own Python package the right way - by making an
                environment with pipenv, installing our dependencies, and making some classes. Before watching the
                recording, make sure to read through any recommended documentation for set up.
            </p>
            <p>
                Individual computers/operating systems vary, so specific steps won't be listed here - follow the
                instructions for the program you are installing. If you encounter issues, don't be shy - ask for help
                from staff or your fellow students.
            </p>
            <h3>Challenge</h3>
            <p>
                Get a head start - read up on <code>pipenv</code>, and see if you can figure out making your own
                virtual environment. Try to install <code>numpy</code> in it, and verify that you can activate the
                environment and import the specific version of the dependency you installed.
            </p>
            <p>
                Check out <a href="https://drivendata.github.io/cookiecutter-data-science/" target="_blank"
                    rel="noopener noreferrer">Cookiecutter Data Science</a> for another approach for building a starter
                data science project in a package. Try to make your own project with it!
            </p>
            <h3>Additional Resources</h3>
            <ul>
                <li>
                    <a href="https://learn.microsoft.com/en-us/windows/wsl/" target="_blank"
                        rel="noopener noreferrer">Windows Subsystem for Linux, WSL</a>
                </li>
                <li>
                    <a href="https://pipenv.pypa.io/en/latest/" target="_blank" rel="noopener noreferrer">Pipenv
                        documentation</a>
                </li>
                <li>
                    <a href="https://packaging.python.org/" target="_blank" rel="noopener noreferrer">Python Packaging
                        User Guide</a>
                </li>
            </ul>
        </section>

        <section class="content-box">
            <h2>Guided Project</h2>

            <p>Open <strong>guided-project.md</strong> in the GitHub repository below to follow along with the guided
                project. Make sure to complete the Unit 3 setup as it's essential for this module.</p>

            <div class="resource-links">
                <a href="https://github.com/bloominstituteoftechnology/DS-Unit-3-Sprint-1-Software-Engineering/tree/main/module1-python-modules-packages-and-environments"
                    class="resource-link" target="_blank" rel="noopener noreferrer">GitHub Repo</a>
                <a href="https://github.com/bloominstituteoftechnology/DS-Unit-3-Setup" class="resource-link"
                    target="_blank" rel="noopener noreferrer">Unit 3 Set-up</a>
                <a href="https://www.git-tower.com/blog/command-line-cheat-sheet/" class="resource-link" target="_blank"
                    rel="noopener noreferrer">Command-line Cheat Sheet</a>
                <a href="https://github.com/bloominstituteoftechnology/DS-Unit-3-Sprint-1-Software-Engineering/tree/main/module1-python-modules-packages-and-environments#publishing-your-package-with-pypi"
                    class="resource-link" target="_blank" rel="noopener noreferrer">Publishing Your Package with
                    PyPI</a>
            </div>

            <div class="video-container">
                <iframe src="https://fast.wistia.net/embed/iframe/fnpyn6xoso" allowtransparency="true" frameborder="0"
                    scrolling="no" class="wistia_embed" name="wistia_embed"
                    title="Module 1 Guided Project: Python Modules and Packages" allowfullscreen mozallowfullscreen
                    webkitallowfullscreen oallowfullscreen msallowfullscreen></iframe>
            </div>
        </section>

        <section class="content-box">
            <h2>Module Assignment</h2>
            <p>For this assignment, you'll create your own Python package and implement helper utility functions to
                demonstrate your understanding of modules, packages, and environments.</p>

            <div class="resource-links">
                <a href="https://github.com/bloominstituteoftechnology/DS-Unit-3-Sprint-1-Software-Engineering/blob/main/module1-python-modules-packages-and-environments/assignment.md"
                    class="resource-link" target="_blank" rel="noopener noreferrer">Module 1 Assignment</a>
            </div>

            <h3>Solution Video</h3>
            <div class="video-container">
                <iframe src="https://fast.wistia.net/embed/iframe/hp286jgxa8" allowtransparency="true" frameborder="0"
                    scrolling="no" class="wistia_embed" name="wistia_embed" title="Module 1 Assignment Solution Video"
                    allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen
                    msallowfullscreen></iframe>
            </div>
        </section>

        <section class="content-box">
            <h2>Additional Resources</h2>
            <h3>Documentation & Tutorials</h3>
            <ul>
                <li><a href="https://devblogs.microsoft.com/commandline/" target="_blank"
                        rel="noopener noreferrer">Windows Command
                        Line</a></li>
                <li><a href="https://pipenv.readthedocs.io/en/latest/" target="_blank" rel="noopener noreferrer">Pipenv
                        Documentation</a></li>
                <li><a href="https://packaging.python.org" target="_blank" rel="noopener noreferrer">Python Packaging
                        User
                        Guide</a></li>
            </ul>
        </section>
    </main>
</body>

</html>