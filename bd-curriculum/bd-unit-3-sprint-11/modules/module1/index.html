<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 1: Mocking 1 - BD Unit 3 Sprint 11</title>
    <link rel="stylesheet" href="../../assets/css/style.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">BD Unit 3 Sprint 11</div>
            <ul>
                <li><a href="../../index.html">Home</a></li>
                <li class="dropdown">
                    <a href="#" class="active">Modules</a>
                    <div class="dropdown-content">
                        <a href="../module1/index.html" class="active">Module 1: Mocking 1</a>
                        <a href="../module2/index.html">Module 2: Mocking 2</a>
                        <a href="../module3/index.html">Module 3: Static Methods</a>
                        <a href="../module4/index.html">Module 4: AWS Lambda</a>
                    </div>
                </li>
                <li><a href="../../code-alongs/index.html">Code-Alongs</a></li>
                <li><a href="../../sprint-challenge/index.html">Sprint Challenge</a></li>
            </ul>
        </nav>
    </header>
    
    <main class="container">
        <section class="welcome">
            <h1>Module 1: Mocking 1</h1>
            
            <div class="content-box">
                <h2>Module Overview</h2>
                <p>Learn about mocking fundamentals and how to use them in your tests to create isolated and effective unit tests.</p>
            </div>
            
            <div class="video-container">
                <iframe class="wistia_embed" title="Sprint 11 Mocking 1a Video" src="https://fast.wistia.net/embed/iframe/2flhwb1o2p" width="100%" height="360" name="wistia_embed" allow="autoplay; fullscreen" loading="lazy"></iframe>
            </div>

            <div class="video-container">
                <iframe class="wistia_embed" title="Intro to Mocking Video" src="https://fast.wistia.net/embed/iframe/780ih1a80o" width="100%" height="360" name="wistia_embed" allowfullscreen="allowfullscreen" allow="autoplay; fullscreen" loading="lazy"></iframe>
            </div>

            <div class="content-box">
                <h3>Introduction to Mocking</h3>
                <p>Mocking is essential for writing effective unit tests. It allows you to test classes in isolation by creating dummy implementations of their dependencies. This ensures your tests are deterministic, fast, and focused on the specific code you're testing.</p>
                <p>Mock objects let you define the output of method calls from dependencies, giving you precise control over test conditions without relying on external systems or real implementation details.</p>
                <pre><code>// Example of creating a mock
@Mock
private RenterDao renterDao;

@Mock
private DriverLicenseService driverLicenseService;

@InjectMocks
private RenterRegistrar renterRegistrar;

@BeforeEach
public void setup() {
    initMocks(this);
}

// Defining mock behavior
when(renterDao.getRegisteredRenter(driverLicenseId)).thenReturn(driver);
</code></pre>
            </div>

            <div class="content-box">
                <h2>Learning Objectives</h2>
                <ul>
                    <li>Understand the purpose and benefits of mocking in unit tests</li>
                    <li>Learn to use Mockito to create mock objects</li>
                    <li>Master the basics of stubbing method responses</li>
                    <li>Practice verifying mock interactions</li>
                    <li>Implement mocks to isolate code units for testing</li>
                    <li>Implement unit tests that isolate code by mocking dependencies</li>
                    <li>Design unit tests that verify class interactions with dependencies</li>
                    <li>Create unit tests that verify exception handling from dependencies</li>
                    <li>Design unit tests for expected error conditions and exceptions</li>
                    <li>Refactor classes to make them more testable without direct dependency instantiation</li>
                    <li>Discuss the advantages of dependency injection for testing</li>
                </ul>
            </div>

            <div class="content-box">
                <h3>When to Use Mocking</h3>
                <p>Mocking provides several key benefits in unit testing:</p>
                <ul>
                    <li><strong>Deterministic tests:</strong> Tests produce predictable results regardless of external factors</li>
                    <li><strong>Testing edge cases:</strong> Easily test rare conditions that are difficult to reproduce naturally</li>
                    <li><strong>Speed:</strong> Tests run faster without waiting for real dependencies like databases or networks</li>
                    <li><strong>Cost efficiency:</strong> Avoid expenses associated with real services or resources</li>
                    <li><strong>Isolation:</strong> Test only your specific code unit without interference from dependencies</li>
                </ul>
                <pre><code>// Example of mocking exceptional behavior
@Test
public void getRegisteredRenter_unregisteredDriver_throwsNotRegisteredException() throws NotRegisteredException {
    // GIVEN
    String driverLicenseId = "ABC1234567";
    when(renterDao.getRegisteredRenter(driverLicenseId)).thenThrow(NotRegisteredException.class);

    // WHEN/THEN
    assertThrows(NotRegisteredException.class,
            () -> renterRegistrar.getRegisteredRenter(driverLicenseId));
}</code></pre>
            </div>

            <section class="resource-section">
                <h2 class="resource-section-title">Resources</h2>
                <div class="resource-links">
                    <a href="https://github.com/BloomTechBackend/bd-mocking-rack-monitor" target="_blank" rel="noopener" class="resource-link">
                        Rack Monitor Repository
                    </a>
                    <a href="https://site.mockito.org/" target="_blank" rel="noopener" class="resource-link">
                        Mockito Documentation
                    </a>
                    <a href="https://www.baeldung.com/mockito-behavior" target="_blank" rel="noopener" class="resource-link">
                        Stubbing and Mocking with Mockito - Baeldung
                    </a>
                    <a href="https://www.baeldung.com/mockito-verify" target="_blank" rel="noopener" class="resource-link">
                        Mockito Verify Interactions - Baeldung
                    </a>
                </div>
            </section>
        </section>
    </main>
</body>
</html> 